[{"path":"https://ctoney.github.io/FIAstemmap/CODE_OF_CONDUCT.html","id":null,"dir":"","previous_headings":"","what":"Code of Conduct","title":"Code of Conduct","text":"See General Services Administration (GSA)’s Technology Transformation Services (TTS) Code Conduct.","code":""},{"path":"https://ctoney.github.io/FIAstemmap/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Welcome","title":"Welcome","text":"’re glad ’re thinking contributing open source project USDA Forest Service, Rocky Montain Research Station. want ensure welcoming environment. ’re unsure anything, just ask – submit issue pull request anyway. worst can happen ’ll politely asked change something. welcome friendly contributions.","code":""},{"path":"https://ctoney.github.io/FIAstemmap/CONTRIBUTING.html","id":"public-domain","dir":"","previous_headings":"","what":"Public domain","title":"Welcome","text":"project released MIT license. Portions project public domain within United States, copyright related rights waived worldwide CC0 1.0 Universal public domain dedication. See file inst/COPYRIGHTS details.","code":""},{"path":"https://ctoney.github.io/FIAstemmap/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2026 FIAstemmap authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://ctoney.github.io/FIAstemmap/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Chris Toney. Author, maintainer.","code":""},{"path":"https://ctoney.github.io/FIAstemmap/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Toney C, Shaw JD, Nelson MD (2009). “stem-map model predicting tree canopy cover Forest Inventory Analysis (FIA) plots.” McWilliams W, Moisen G, Czaplewski R (eds.), Forest Inventory Analysis (FIA) Symposium 2008,  number RMRS-P-56CD. USDA Forest Service, Rocky Mountain Research Station, Park City, UT. https://research.fs.usda.gov/treesearch/33381.","code":"@InProceedings{,   title = {A stem-map model for predicting tree canopy cover of Forest Inventory and Analysis (FIA) plots},   author = {Chris Toney and John D. Shaw and Mark D. Nelson},   year = {2009},   booktitle = {Forest Inventory and Analysis (FIA) Symposium 2008},   editor = {Will McWilliams and Gretchen Moisen and Ray Czaplewski},   month = {October 21-23, 2008},   address = {Park City, UT},   number = {RMRS-P-56CD},   organization = {USDA Forest Service, Rocky Mountain Research Station},   publisher = {USDA Forest Service, Rocky Mountain Research Station},   url = {https://research.fs.usda.gov/treesearch/33381}, }"},{"path":"https://ctoney.github.io/FIAstemmap/index.html","id":"fia-stem-map","dir":"","previous_headings":"","what":"FIA stem map","title":"FIA stem map","text":"NOTE: repository implementation update currently development Forest Inventory Analysis Program (FIA) USDA Forest Service provide tree-level measurements systematic grid field plots across forest ownerships land uses US. FIAstemmap R package mapping tree stem locations FIA plots, modeling individual crown dimensions, generating plot-level estimates fractional tree canopy cover. Several stand height metrics can calculated. Spatial analysis tree point pattern facilitated standard FIA four-point cluster plot design. Efficient data processing supports national applications. package provides updated implementation software originally described Toney et al. 2009 [1]. original implementation modeling plot canopy cover individual tree measurements supported several applications FIA data, including: reference data classifying vegetation types mapping tree canopy cover LANDFIRE Program [2, 3, 4, 5] National Land Cover Database (NLCD) Tree Canopy Cover (TCC) science development [6] wildlife habitat analyses [7, 8, 9] mapping erosion risk rangelands [10] comparative assessments tree canopy cover estimation methods [11, 12]","code":""},{"path":"https://ctoney.github.io/FIAstemmap/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"FIA stem map","text":"can install development version FIAstemmap :","code":"# install.packages(\"pak\") pak::pak(\"ctoney/FIAstemmap\")"},{"path":"https://ctoney.github.io/FIAstemmap/index.html","id":"examples","dir":"","previous_headings":"","what":"Examples","title":"FIA stem map","text":"TODO…","code":"library(FIAstemmap) ## basic example code"},{"path":"https://ctoney.github.io/FIAstemmap/index.html","id":"references","dir":"","previous_headings":"","what":"References","title":"FIA stem map","text":"[1] Toney, Chris; Shaw, John D.; Nelson, Mark D. 2009. stem-map model predicting tree canopy cover Forest Inventory Analysis (FIA) plots. : McWilliams, ; Moisen, Gretchen; Czaplewski, Ray, comps. Forest Inventory Analysis (FIA) Symposium 2008; October 21-23, 2008; Park City, UT. Proc. RMRS-P-56CD. Fort Collins, CO: U.S. Department Agriculture, Forest Service, Rocky Mountain Research Station. 19 p. Available: https://research.fs.usda.gov/treesearch/33381. [2] LANDFIRE: LANDFIRE Existing Vegetation Cover layer. (LF2024 version released 2025 - last update). U.S. Department Interior, Geological Survey, U.S. Department Agriculture. [Online]. Available: https://landfire.gov/vegetation/evc [accessed 2026, Feb 24]. [3] Moore, Annabelle; La Puma, Inga; Dillon, Greg; Smail, Tobin; Schleeweis, Karen; Toney, Chris; Menakis, Jim; Bastian, Henry; Picotte, Josh; Dockter, Daryn; Tolk, Brian. 2024. Twenty years science management LANDFIRE. Connected Science, October 2024. Fort Collins, CO: U.S. Department Agriculture, Forest Service, Rocky Mountain Research Station. 2 p. Available: https://research.fs.usda.gov/treesearch/68397. [4] Vogelmann, Jim & Kost, Jay & Tolk, Brian & Howard, Stephen & Short, Karen & Chen, Xuexia & Huang, Chengquan & Pabst, Kari & Rollins, Matthew. (2011). Monitoring Landscape Change LANDFIRE Using Multi-Temporal Satellite Imagery Ancillary Data. Selected Topics Applied Earth Observations Remote Sensing, IEEE Journal . 4. 252 - 264. 10. https://doi.org/10.1109/JSTARS.2010.2044478. [5] Nelson, K.J., Connot, J., Peterson, B. et al. 2013. LANDFIRE Refresh Strategy: Updating National Dataset. Fire Ecology, 9, 80–101. https://doi.org/10.4996/fireecology.0902080. [6] Toney, Chris; Liknes, Greg; Lister, Andy; Meneguzzo, Dacia. 2012. Assessing alternative measures tree canopy cover: Photo-interpreted NAIP ground-based estimates. : McWilliams, ; Roesch, Francis . eds. 2012. Monitoring Across Borders: 2010 Joint Meeting Forest Inventory Analysis (FIA) Symposium Southern Mensurationists. e-Gen. Tech. Rep. SRS-157. Asheville, NC: U.S. Department Agriculture, Forest Service, Southern Research Station. 209-215. Available: https://research.fs.usda.gov/treesearch/41009. [7] Tavernia, B., Nelson, M., Goerndt, M., Walters, B., & Toney, C. (2013). Changes forest habitat classes alternative climate land-use change scenarios northeast midwest, USA. Mathematical Computational Forestry & Natural-Resource Sciences (MCFNS), 5:2, 135-150(15). Retrieved https://www.mcfns.com/index.php/Journal/article/view/MCFNS_165. [8] Rowland, M.M.; Vojta, C.D.; tech. eds. 2013. technical guide monitoring wildlife habitat. Gen. Tech. Rep. WO-89. Washington, DC: U.S. Department Agriculture, Forest Service: 400 p. Available: https://doi.org/10.2737/WO-GTR-89. [9] Michael C. McGrann, Bradley Wagner, Matthew Klauer, Kasia Kaphan, Erik Meyer, Brett J. Furnas. 2022. Using acoustic complexity index help monitor climate change effects avian diversity. Ecological Indicators, Volume 142, 109271, https://doi.org/10.1016/j.ecolind.2022.109271. [10] McGwire KC, Weltz MA, Nouwakpo S, Spaeth K, Founds M, Cadaret E. 2020. Mapping erosion risk saline rangelands Mancos Shale using rangeland hydrology erosion model. Land Degradation & Development. 31: 2552-2564. https://doi.org/10.1002/ldr.3620. [11] Riemann, R., Liknes, G., O’Neil-Dunne, J., Toney, C., Lister, T. (2016). Comparative assessment methods estimating tree canopy cover across rural--urban gradient mid-Atlantic region USA. Environmental Monitoring Assessment 188:297. https://doi.org/10.1007/s10661-016-5281-8. [12] Andrew N. Gray, Anne C.S. McIntosh, Steven L. Garman, Michael . Shettles. 2021. Predicting canopy cover diverse forest types individual tree measurements. Forest Ecology Management, Volume 501, 119682, ISSN 0378-1127, https://doi.org/10.1016/j.foreco.2021.119682.","code":""},{"path":"https://ctoney.github.io/FIAstemmap/reference/crown_overlay_pct.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute fractional tree canopy cover of a subplot/microplot by crown overlay — crown_overlay_pct","title":"Compute fractional tree canopy cover of a subplot/microplot by crown overlay — crown_overlay_pct","text":"Compute fractional tree canopy cover subplot/microplot crown overlay","code":""},{"path":"https://ctoney.github.io/FIAstemmap/reference/crown_overlay_pct.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute fractional tree canopy cover of a subplot/microplot by crown overlay — crown_overlay_pct","text":"","code":"crown_overlay_pct(plot_radius, tree_list)"},{"path":"https://ctoney.github.io/FIAstemmap/reference/crown_overlay_pct.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute fractional tree canopy cover of a subplot/microplot by crown overlay — crown_overlay_pct","text":"plot_radius numeric value giving radius subplot/microplot. tree_list data frame containing tree records subplot/microplot. Must columns DIST (stem distance subplot center units plot_radius), AZIMUTH (horizontal angle subplot/microplot center stem location, range 0:359) CRWIDTH (tree crown width units plot_radius DIST).","code":""},{"path":"https://ctoney.github.io/FIAstemmap/reference/crown_overlay_pct.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute fractional tree canopy cover of a subplot/microplot by crown overlay — crown_overlay_pct","text":"numeric value tree canopy cover percent subplot/microplot covered vertical projection circular crowns.","code":""},{"path":"https://ctoney.github.io/FIAstemmap/reference/cw_coef.html","id":null,"dir":"Reference","previous_headings":"","what":"Regression coefficients for predicting tree crown width — cw_coef","title":"Regression coefficients for predicting tree crown width — cw_coef","text":"curated set linear regression coefficients predicting crown width stem diameter tree species conterminous US.","code":""},{"path":"https://ctoney.github.io/FIAstemmap/reference/cw_coef.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Regression coefficients for predicting tree crown width — cw_coef","text":"","code":"cw_coef"},{"path":[]},{"path":"https://ctoney.github.io/FIAstemmap/reference/cw_coef.html","id":"cw-coef","dir":"Reference","previous_headings":"","what":"cw_coef","title":"Regression coefficients for predicting tree crown width — cw_coef","text":"data frame 430 rows 8 columns: symbol character, USDA PLANTS Database species symbol SPCD integer, FIA tree species code -1 common_name character, FIA tree species common name surrogate character, Common name surrogate species applicable b0 numeric, Regression b0 coefficient b1 numeric, Regression b1 coefficient b1 numeric, Regression b2 coefficient reference character, Literature source species coefficients (see References)","code":""},{"path":"https://ctoney.github.io/FIAstemmap/reference/cw_coef.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Regression coefficients for predicting tree crown width — cw_coef","text":"Toney et al. 2009. stem-map model predicting tree canopy cover Forest Inventory Analysis (FIA) plots. https://research.fs.usda.gov/treesearch/33381.","code":""},{"path":"https://ctoney.github.io/FIAstemmap/reference/cw_coef.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Regression coefficients for predicting tree crown width — cw_coef","text":"regression equation general form:   CW predicted tree crown diameter feet, DIA FIA stem diameter inches, b0, b1, b2 regression coefficients. quadratic term b2 included regression models species, assigned 0 case purposes lookup table. cases species-specific equations available literature, surrogate species assigned based subjectively similar tree physiognomy.","code":"CW = b0 + b1 * DIA + b2 * DIA^2"},{"path":"https://ctoney.github.io/FIAstemmap/reference/cw_coef.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Regression coefficients for predicting tree crown width — cw_coef","text":"Bechtold, W.. 2003. Crown-Diameter Prediction Models 87 Species Stand-Grown Trees Eastern United States. Southern Journal Applied Forestry, Vol. 27, . 4, 269-278. Bechtold, W.. 2004. Largest-Crown-Width Prediction Models 53 Species Western United States. Western Journal Applied Forestry, Vol. 19, . 4, 245-251. Gill, S.J., G.S. Biging, E.C. Murphy. 2000. Modeling conifer tree crown radius estimating canopy cover. Forest Ecology Management, 126, 405-416.","code":""},{"path":"https://ctoney.github.io/FIAstemmap/reference/cw_coef.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Regression coefficients for predicting tree crown width — cw_coef","text":"","code":"cw_coef[cw_coef$SPCD == 17, ] #>   symbol SPCD common_name surrogate   b0   b1    b2       reference #> 3   ABGR   17   grand fir      <NA> 5.75 1.11 -0.01 Bechtold (2004)"},{"path":"https://ctoney.github.io/FIAstemmap/reference/plantation.html","id":null,"dir":"Reference","previous_headings":"","what":"Tree list for a plot in a loblolly pine plantation — plantation","title":"Tree list for a plot in a loblolly pine plantation — plantation","text":"example tree list FIA plot loblolly pine plantation.","code":""},{"path":"https://ctoney.github.io/FIAstemmap/reference/plantation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tree list for a plot in a loblolly pine plantation — plantation","text":"","code":"plantation"},{"path":[]},{"path":"https://ctoney.github.io/FIAstemmap/reference/plantation.html","id":"plantation","dir":"Reference","previous_headings":"","what":"plantation","title":"Tree list for a plot in a loblolly pine plantation — plantation","text":"data frame 91 rows 14 columns: PLT_CN character, Plot unique identifier SUBP integer, Subplot number TREE integer, Tree number AZIMUTH integer, Horizontal angle subplot center stem location DIST numeric, Distance feet subplot center stem location STATUSCD integer, Tree status code: 1 = live, 2 = standing dead SPCD integer, FIA tree species code SPGRPCD integer, FIA tree species group code DIA numeric, Tree diameter breast height inches HT integer, Tree height feet ACTUALHT integer, Actual height ft (ACTUALHT < HT indicates broken top) CCLCD integer, Tree crown class code TPA_UNADJ numeric, Trees per acre expansion factor CRWIDTH numeric, Estimated tree crown width feet","code":""},{"path":"https://ctoney.github.io/FIAstemmap/reference/plantation.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Tree list for a plot in a loblolly pine plantation — plantation","text":"https://research.fs.usda.gov/programs/nfi","code":""},{"path":"https://ctoney.github.io/FIAstemmap/reference/spatstat_helpers.html","id":null,"dir":"Reference","previous_headings":"","what":"Analyze tree spatial pattern on FIA plots — spatstat_helpers","title":"Analyze tree spatial pattern on FIA plots — spatstat_helpers","text":"Functions facilitate point pattern analysis FIA tree data using spatstat library.","code":""},{"path":"https://ctoney.github.io/FIAstemmap/reference/spatstat_helpers.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analyze tree spatial pattern on FIA plots — spatstat_helpers","text":"","code":"create_fia_owin(linear_unit = \"ft\", macroplot = FALSE, npoly = 360)  create_fia_ppp(   tree_list,   live_trees = TRUE,   min_dia = 5,   linear_unit = \"ft\",   macroplot = FALSE,   window = NULL,   mark_cols = NULL,   mark_as_factor = NULL )"},{"path":"https://ctoney.github.io/FIAstemmap/reference/spatstat_helpers.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analyze tree spatial pattern on FIA plots — spatstat_helpers","text":"linear_unit optional character string specifying linear distance unit. Defaults native FIA unit \"ft\", may set \"m\" instead (\"meter\" / \"metre\"). macroplot optional logical value. default FALSE, defines FIA plot footprint terms standard four-subplot configuration subplot radius 24 ft (7.3152 m). default, \"macroplot trees\" DIST outside subplot boundary included. argument may set TRUE case observation window defined using FIA optional \"macroplot\" configuration instead (58.9 ft 18.227 m radius, used certain areas Pacific Northwest FIA region). npoly Integer value giving number edges use polygon approximation. Defaults 360. tree_list data frame containing set tree records one FIA plot (see Details). live_trees logical value, TRUE include live trees (default, .e., STATUSCD == 1). min_dia numeric value specifying minimum diameter threshold included trees. default 5.0. Trees less 5-. diameter greater equal 1.0-. diameter, denoted \"saplings\", recorded FIA microplots stem-mapped across full 4-subplot footprint. window optional object class \"owin\" defining observation window FIA plot 2-D plane. Defaults create_fia_owin(linear_unit, macroplot). mark_cols optional character vector column names tree_list designate spatstat marks carry additional information data point point pattern object. mark_as_factor optional subset mark_cols treated factor marks. already factor, coerced upon input. factor marks take finite number possible values (e.g. colors types).","code":""},{"path":"https://ctoney.github.io/FIAstemmap/reference/spatstat_helpers.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Analyze tree spatial pattern on FIA plots — spatstat_helpers","text":"create_fia_owin() returns object class \"owin\" spatstat library. object represents generic 2-D observation window nationally standard FIA plot design four-point cluster subplots. Used creating spatstat point pattern object FIA tree list. create_fia_ppp() returns object class \"ppp\" representing point pattern FIA tree list 2-D plane. point pattern object defines dataset using stem-mapped FIA plot functions spatstat library. standard set columns tree list data FIAstemmap given , along status column required optional create_fia_ppp(): PLT_CN: optional, create_fia_ppp() assumes input one plot SUBP: required subplot number TREE: required tree number within subplot AZIMUTH: required horizontal angle subplot center DIST: required distance subplot center STATUSCD: required tree status code (1 = live, 2 = dead) SPCD: optional FIA species code SPGRPCD: optional FIA species group code DIA: optional tree diameter HT: optional tree height ACTUALHT: optional tree actual height (accounts broken top) CCLCD: optional crown class code TPA_UNADJ: optional tree expansion factor (per acre) CRWIDTH: optional crown width (may computed TODO)","code":""},{"path":"https://ctoney.github.io/FIAstemmap/reference/spatstat_helpers.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Analyze tree spatial pattern on FIA plots — spatstat_helpers","text":"","code":"# observation window for the standard FIA plot design w <- create_fia_owin() summary(w) #> Window: polygonal boundary #> 4 separate polygons (no holes) #>            vertices    area relative.area #> polygon 1       360 1809.62          0.25 #> polygon 2       360 1809.62          0.25 #> polygon 3       360 1809.62          0.25 #> polygon 4       360 1809.62          0.25 #> enclosing rectangle: [-127.921, 127.921] x [-84.001, 144.001] feet #>                      (255.8 x 228 feet) #> Window area = 7238.47 square feet #> Unit of length: 1 foot #> Fraction of frame area: 0.124  # or using metric units w <- create_fia_owin(\"m\") summary(w) #> Window: polygonal boundary #> 4 separate polygons (no holes) #>            vertices    area relative.area #> polygon 1       360 168.119          0.25 #> polygon 2       360 168.119          0.25 #> polygon 3       360 168.119          0.25 #> polygon 4       360 168.119          0.25 #> enclosing rectangle: [-38.99032, 38.99032] x [-25.6035, 43.8915] meters #>                      (77.98 x 69.5 meters) #> Window area = 672.475 square meters #> Unit of length: 1 meter #> Fraction of frame area: 0.124  plot(w, main = \"FIA standard four-subplot design\")   # point pattern object for the plantation example data X <- create_fia_ppp(plantation) summary(X) #> Planar point pattern:  89 points #> Average intensity 0.01229542 points per square foot #>  #> Coordinates are given to 16 decimal places #>  #> Window: polygonal boundary #> 4 separate polygons (no holes) #>            vertices    area relative.area #> polygon 1       360 1809.62          0.25 #> polygon 2       360 1809.62          0.25 #> polygon 3       360 1809.62          0.25 #> polygon 4       360 1809.62          0.25 #> enclosing rectangle: [-127.921, 127.921] x [-84.001, 144.001] feet #>                      (255.8 x 228 feet) #> Window area = 7238.47 square feet #> Unit of length: 1 foot #> Fraction of frame area: 0.124  plot(X, pch = 16, main = \"Loblolly pine plantation\")   # plot trees as trees :) X <- create_fia_ppp(plantation, mark_cols = \"SPCD\") plot(X, main = \"Loblolly pine plantation\",      shape = \"arrows\", direction = 90, size = 12, cols = \"darkgreen\",      background = \"gray90\", legend = FALSE)   # Ripley's K-function K <- spatstat.explore::Kest(X, rmax = 12) plot(K, main = \"Ripley's K-function for the plantation trees\")"}]
